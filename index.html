<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>How this Model was made! - by Ibraheem Malik</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            background: #f7fafd;
            color: #222;
        }
        header {
            background-color: #b3d8fd;
            padding: 2rem 1rem;
            text-align: center;
            position: relative;
        }
        .forecast-btn {
            position: absolute;
            right: 2rem;
            top: 2rem;
            padding: 1rem 2rem;
            font-size: 1.2rem;
            background: #f80000;
            color: #fff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            text-decoration: none;
        }
        header h1 {
            margin: 0 0 0.5rem 0;
            font-size: 2.5rem;
            color: #174a7c;
        }
        header p {
            margin: 0;
            font-size: 1.2rem;
            color: #174a7c;
            font-style: italic;
        }
        main {
            max-width: 700px;
            margin: 2rem auto;
            background: #fff;
            padding: 2rem;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }
        article h2 {
            color: #174a7c;
        }
        article h3 {
            color: #95B9C7;
        }
        footer {
            text-align: center;
            padding: 1rem;
            color: #888;
            font-size: 0.9rem;
        }
        @media (max-width: 600px) {
            .forecast-btn {
                position: static;
                display: block;
                margin: 1rem auto 0 auto;
                width: 90%;
            }
        }
    </style>
</head>
<body>
    <header>
        <a href="/forecast" class="forecast-btn">Forecast</a>
        <br>
        <h1>How this Model was made!</h1>
        <p>by Ibraheem Malik</p>
        <img src="https://media.licdn.com/dms/image/v2/D5603AQEWvDn1nTv_Cw/profile-displayphoto-shrink_800_800/profile-displayphoto-shrink_800_800/0/1715194598425?e=1754524800&v=beta&t=tA0r8pqWokyCnL2kEnjdjLx8MJ8Gz-AwkQNDUVKP4Y0" style="width:50px;height:50px;">
    </header>
    <main>
        <article>
            <h2>Introduction</h2>
            <p>
                Hi, You are probably wondering how this code was made. This was all built within a week. After some research
                and previous knowledge from my stats class in University.<br><br>

                I was familiar with golden crosses moving averages, Time series, Z regression and RSI. I thought, how about I use my recent
                knowledge of machine learning to predict stock prices. Machine learning consists of deep neural networks that can learn from previous data and provide new input. 
                
                <br><br> 
                I knew this was going to be a big project and I was already feeling overwhelmed by the amount of work. So, I decided to break it down into small parts and have my prompt engineering skills help me. 
                
                <br><br>
                I know I wanted to make a code that could predict stock share prices. I wanted it to help me make investments. Something that could predict the next week of share prices. I knew it was possible because I now had expierence in stock investments and had some coding knowledge.
                
                </b>
            </b>
            </p>
            <br>
            <h2>Development Process</h2>
            <p>
                <h3>May 26 - Research</h3> 
                I wanted to make a model that would predict share prices. 
                So I figured with my losses in stock investment and what I was taught in university. Time series was not very acurate as it was only useful for Moving average stock predicitons, based on the previous data. This model won't be able to identify potential lags. As well I understood that all these models don't particulary rely on fundamental aspects of an investment. So this would only be <b>based on Technical analysis</b>. 
                
                <br>
                <br>
               <h3> May 27 - The model was founded</h3> 
                After a day of research. I found the perfect model for stock predictions. The ARIMA model which was useful for short term investments. Something I exactly needed. I came across a paper that explained it well and what the accuracy was compared to other models. <br> <br>
                The ARIMA model stood for autoregressive integrated moving average. It use potential trends and laggards to predict share price. So this was strictly for short term investments. The ARIMA model relies on 3 coefficients: 
                <ul>
                    <li>P : the number of lag observations in the model, also known as the lag order.</li>
                    <li>D: the number of times the raw observations are differenced; also known as the degree of differencing.</li>
                    <li>Q: the size of the moving average window, also known as the order of the moving average.</li> <br>
                    https://www.investopedia.com/terms/a/autoregressive-integrated-moving-average-arima.asp
                </ul>
                
            The only cons with this model was it could not predict long term, predicts only in a short term, it can't rely on external factors.<br>Example being economical/political/company factors that significantly change the whole market in one day.</br>  
            <br>
                <h3>May 28 - 29 forecastweek.py</h3> 
                It was time to work on the coding aspect of the code. As someone with some coding knowledge. I worked on this code at first with VB. It was not quick and I knew I wanted to make a webpage of this code. I decided to try Githubs' online IDE workspace which was great. I made the switch to it and found co-pilot github was helping me write the code. I could also keep track of the code if I ever felt my eyes were burning and access it when i'm traveling. 
                
                <br><br> The code relied on these modules, yfinance(grabbing the data from Yahoo finance), Pandas(making dataframes a.k.a charts), Matplot(making graphs), Numpy(math calculations), datetime(gather the correct date for the rows of the dataframe), statsmodel(API call to ARIMA).
                
                
                 <h3>May 30 app.py</h3> 
                The code was completed and now I wanted to make a webpage. This part was fairly simply. I wanted the code to display in a webpage format using FLASK. It took only one prompt, but this is when the errors started to come in. Value errors dealing with input of the wrong ticker or leaving the input empty. I had to use if/else statements and i changed the print statements to display what i wanted. I also used my CSS skills to make the webpage much more appealing.
                
                <h3>June 02 - Testing phase</h3> 
                It was time to test out the code and see how accurate it was. This was when I realized that I should have tested the accuracy before making the webpage. I am now going to compare AAPl price to my model and see how accurate it is for the next 7 days. 


            </p>
            <br>
            <h2>Challenges & Solutions</h2>
            <p>
                
                <h3>May 28-29 - ARIMA Coefficient Problem</h3> I also had Chatgbt help me with some aspects I did not understand. One being the modules "datetime , statsmodels.tsa.arima.model". I only work with datetime a little bit, but i did have knowledge with working with huggingface API calls to models. So I understood that the model was a API call and we were using the ARIMA model. I then did some research to determine what coefficient values should I use? Co-pilot kept giving an incorrect value for q. It kept it at 0, but I checked with some websites and chatgbt to get atleast 1-3. I put it to 1 because i believed that atleast 1 moving average would be identified with the 6 months of data it was using. Especially in the short term prediction of 7 days. If I was using a month basis it would be greater.
                
                  <br><br><h3>May 28-29 - Weekday problem</h3> When testing the code. I saw it was including the weekends when predicting the share price. This would include saturday and sunday when the stock market was not even open. I had to keep this to weekdays only. So I found the datetime library. This then appended the share price to weekdays only using an empty dict called "future_dates[]".
                  
                  
                  <br><br><h3>May 31 - matplot problem</h3>When displaying the chart into HTML format. The chart x and y  axis were displaying incorrect fields. I then referred to my notes from labs and fixed the axis and size of the chart. Changing these axis made it capable for me to now see the line on a weekly basis on a monthly axis.
                  
                  <br><br><h3>June 03 - routing issues</h3>I was having trouble routing the app.py to my blog page. I found that I did not add the actual route to app.py and I did not name my HTML page correctly. I had to change blog.html to Index.html to act as the home page. It then turns out Gitpages only supports static pages, so it cannot run python Flask services. I spent hours trying to understand why it was not running. Then after an hour of research. I figured it had to run on a separate server if my terminal is not in use. So I found a website called render that supports Flask deployments after several expensive options (render was free). Even if I am away from my laptop app.py will still run. I added a requirements txt file and had to add gun for it to support my pages. Now everything was running well. 
                  
                  <br><br><h3>June 02 - Accuracy test </h3>
                  I will now test the Apple chart for 7 days to see how accurate my results were. This is what my chart predicted on June 2 2025.
                  <br>
                  <img src="https://github.com/IbraheemMwork/Forecast-weekly-share-price/blob/main/Apple%20Inc.png?raw=true" alt="apple price june 2"width="300" height="200">
                  <br>
                  <img src="https://github.com/IbraheemMwork/Forecast-weekly-share-price/blob/main/AAPL%20Price%20Forecast%20for%20Next%20Week.png?raw=true"width="300" height="300">
                  <br>
                  <b>Result</b>
                  <img src = "https://github.com/IbraheemMwork/Forecast-weekly-share-price/blob/main/result.png?raw=true" width="800"height="300">
            </p>
            <h2>Conclusion</h2>
            <p>
                <h3>June 11 - conclusion</h3>

It seems that ARIMA model is great for forecasting short-term. External events however have an extreme effect on the stock price. 
<br>
<br>
Even though this model can identify trends. It’s pretty accurate if you are using the right coefficients. If you are not using the right coefficients. This model can be severely off and affect your investments. Also this model can help with investments, but should not be relied on it self. The ARIMA model is used only for a technical stand point. For ex. On June 06 When the WWDC was in the news headlines the stock shot up by $3 from the previous day. This shows how uncertain the stock market can be sometimes. Thats why it is important to use multiple indicators when making sound investments. 

<br><br>This then led to my next discovery called the sarimax model.
            </p>
        </article>
    </main>
    <footer>
        &copy; 2025 Ibraheem Malik. All rights reserved. Please connect with me on Linkedin - <a href="https://www.linkedin.com/in/ibraheem-malik-123456789/">Ibraheem Malik</a>
    </footer>
</body>
</html>
<!-- End of index.html -->